<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stratford Stocks ‚Äî Scanner</title>
<link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0}body{background:#050508;color:#f0f0f5;font-family:'Geist Mono','SF Mono','Courier New',monospace;min-height:100vh;-webkit-font-smoothing:antialiased}::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:#0a0a0f}::-webkit-scrollbar-thumb{background:#2a2a35;border-radius:3px}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}@keyframes ring{0%{transform:scale(1);opacity:.5}100%{transform:scale(3);opacity:0}}@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes glow{0%,100%{box-shadow:0 0 15px rgba(0,200,255,.08)}50%{box-shadow:0 0 30px rgba(0,200,255,.15)}}@keyframes barGrow{from{width:0}to{width:var(--bw)}}@keyframes dotPulse{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}.hdr{padding:24px 28px 20px;border-bottom:1px solid rgba(255,255,255,.06);background:linear-gradient(180deg,rgba(0,200,255,.015)0%,transparent 100%);position:relative}.hdr::after{content:'';position:absolute;bottom:0;left:28px;right:28px;height:1px;background:linear-gradient(90deg,transparent,rgba(0,200,255,.15),transparent)}.hr{display:flex;align-items:center;justify-content:space-between}.logo{display:flex;align-items:center;gap:14px}.logo-mark{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#00c8ff,#0090cc);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:900;color:#050508;font-family:'Outfit',sans-serif;letter-spacing:-1px}.tt{font-size:22px;font-weight:800;color:#f0f0f5;letter-spacing:-.5px;font-family:'Outfit',sans-serif}.tt span{color:#00c8ff}.su{font-size:11px;color:#555;margin-top:2px;letter-spacing:2px;font-weight:500}.badge{display:inline-flex;align-items:center;font-size:9px;font-weight:700;color:#050508;background:#00c8ff;padding:3px 8px;border-radius:4px;letter-spacing:1px;margin-left:10px}.status{text-align:right}.status-dot{display:flex;align-items:center;gap:5px;justify-content:flex-end}.dot-w{position:relative;display:inline-block;width:8px;height:8px}.dot{position:absolute;width:8px;height:8px;border-radius:50%;background:#00c8ff;animation:pulse 2s ease-in-out infinite}.dot-r{position:absolute;width:8px;height:8px;border-radius:50%;background:#00c8ff;opacity:.4;animation:ring 2s ease-in-out infinite}.spn{display:inline-block;width:12px;height:12px;border:2px solid #00c8ff;border-top-color:transparent;border-radius:50%;animation:spin .7s linear infinite}.status-label{font-size:10px;letter-spacing:1.5px;font-weight:600}.status-time{font-size:10px;color:#444;margin-top:3px}.stats{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;border-bottom:1px solid rgba(255,255,255,.06)}.stat{padding:16px 20px;text-align:center;border-right:1px solid rgba(255,255,255,.04)}.stat:last-child{border-right:none}.stat-label{font-size:8px;color:#555;letter-spacing:2.5px;margin-bottom:6px;font-weight:600}.stat-val{font-size:24px;font-weight:900;font-family:'Outfit',sans-serif;letter-spacing:-1px}.tabs{display:flex;border-bottom:1px solid rgba(255,255,255,.06);overflow-x:auto;-webkit-overflow-scrolling:touch}.tab{padding:14px 10px;background:none;border:none;border-bottom:3px solid transparent;color:#555;cursor:pointer;font-size:9px;font-weight:600;font-family:'Geist Mono',monospace;letter-spacing:.3px;transition:all .2s;white-space:nowrap}.tab:hover{color:#888;background:rgba(255,255,255,.02)}.tab.on{border-bottom-color:#00c8ff;color:#00c8ff;background:rgba(0,200,255,.04)}.sets{padding:14px 20px;border-bottom:1px solid rgba(255,255,255,.06);display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;background:rgba(255,255,255,.015)}.set-label{font-size:8px;color:#555;letter-spacing:2.5px;margin-bottom:5px;font-weight:600}.set-sel{width:100%;padding:8px 10px;background:#0c0c14;border:1px solid rgba(255,255,255,.08);border-radius:6px;color:#f0f0f5;font-size:12px;font-family:'Geist Mono',monospace;font-weight:600;cursor:pointer}.set-sel:focus{outline:none;border-color:rgba(0,200,255,.3)}.rbtn{width:calc(100% - 40px);padding:14px;background:rgba(0,200,255,.06);border:1px solid rgba(0,200,255,.15);border-radius:8px;color:#00c8ff;cursor:pointer;font-size:13px;font-weight:700;letter-spacing:1.5px;font-family:'Geist Mono',monospace;margin:12px 20px;transition:all .2s}.rbtn:hover{background:rgba(0,200,255,.1);border-color:rgba(0,200,255,.3)}.rbtn:disabled{background:rgba(255,255,255,.02);border-color:rgba(255,255,255,.05);color:#555;cursor:wait}.prog{margin:0 20px;padding:16px;text-align:center}.prog-text{font-size:11px;color:#00c8ff;margin-top:8px;letter-spacing:1px}.prog-dots{display:inline-flex;gap:4px}.prog-dots span{width:8px;height:8px;background:#00c8ff;border-radius:50%;animation:dotPulse 1.4s infinite ease-in-out both}.prog-dots span:nth-child(1){animation-delay:-.32s}.prog-dots span:nth-child(2){animation-delay:-.16s}.card{margin:0 16px 8px;border-radius:12px;background:#0a0a12;border:1px solid rgba(255,255,255,.06);overflow:hidden;animation:fadeUp .4s ease both;transition:all .2s;cursor:pointer}.card:hover{border-color:rgba(255,255,255,.1);background:#0c0c16}.card.ex{background:#0e0e1a;animation:glow 3s ease-in-out infinite}.card-main{padding:18px 20px}.card-top{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.tk{font-size:20px;font-weight:900;font-family:'Outfit',sans-serif;letter-spacing:-.5px;color:#00c8ff}.tk-name{font-size:11px;color:#666;font-weight:500;margin-top:2px}.tk-meta{font-size:10px;color:#444;margin-top:2px}.price{font-size:28px;font-weight:900;font-family:'Outfit',sans-serif;letter-spacing:-1px;line-height:1}.chg{font-size:13px;font-weight:800;margin-top:2px}.signals{display:flex;flex-wrap:wrap;gap:5px;margin-top:10px}.sig{font-size:9px;font-weight:700;padding:3px 8px;border-radius:4px;letter-spacing:.5px}.sig-hot{background:rgba(255,85,85,.12);color:#ff5555;border:1px solid rgba(255,85,85,.2)}.sig-vol{background:rgba(251,191,36,.12);color:#fbbf24;border:1px solid rgba(251,191,36,.2)}.sig-news{background:rgba(0,200,255,.12);color:#00c8ff;border:1px solid rgba(0,200,255,.2)}.sig-pat{background:rgba(168,85,247,.12);color:#a855f7;border:1px solid rgba(168,85,247,.2)}.sig-score{background:rgba(0,255,136,.12);color:#00ff88;border:1px solid rgba(0,255,136,.2)}.mbar{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;margin-top:12px}.mbar-item{text-align:center}.mbar-label{font-size:8px;color:#555;letter-spacing:1.5px;font-weight:600}.mbar-val{font-size:13px;font-weight:700;font-family:'Outfit',sans-serif;margin-top:2px}.score-bar{width:100%;height:6px;border-radius:3px;background:rgba(255,255,255,.04);margin-top:8px;overflow:hidden}.score-fill{height:100%;border-radius:3px;animation:barGrow .8s ease both}.excon{padding:0 20px 20px;border-top:1px solid rgba(255,255,255,.04);padding-top:16px}.link-btn{text-decoration:none;display:block;padding:12px;border-radius:8px;text-align:center;margin-bottom:8px;transition:all .2s}.link-btn:hover{filter:brightness(1.3);transform:translateY(-1px)}.reason-box{padding:14px;background:rgba(255,255,255,.02);border-radius:10px;border:1px solid rgba(255,255,255,.04);margin-bottom:12px}.reason-title{font-size:9px;color:#555;letter-spacing:2.5px;font-weight:700;margin-bottom:8px}.reason-text{font-size:12px;color:#999;line-height:1.8}.info-box{margin:10px 20px;padding:12px 16px;background:rgba(0,200,255,.04);border:1px solid rgba(0,200,255,.1);border-radius:8px;font-size:11px;color:#00c8ff;font-weight:500}.warn-box{margin:10px 20px;padding:12px 16px;background:rgba(251,191,36,.04);border:1px solid rgba(251,191,36,.15);border-radius:8px;font-size:11px;color:#fbbf24;font-weight:500}.err-box{margin:10px 20px;padding:12px 16px;background:rgba(255,68,68,.08);border:1px solid rgba(255,68,68,.15);border-radius:8px;font-size:11px;color:#ff6666}.empty{text-align:center;padding:60px 24px;color:#444}.empty-icon{font-size:44px;margin-bottom:14px}.empty-title{font-size:16px;font-weight:700;color:#555;font-family:'Outfit',sans-serif}.empty-sub{font-size:11px;color:#444;margin-top:8px;line-height:1.5}.footer{padding:20px;border-top:1px solid rgba(255,255,255,.04);text-align:center;margin-top:12px}.footer-text{font-size:9px;color:#333;letter-spacing:2px}
</style>
</head>
<body>
<div id="app"></div>
<script>
let S={tab:"penny",exp:null,ld:false,err:null,upd:null,stocks:[],priceRange:"0-5",sortBy:"score",progMsg:""};

async function aiScan(scanType){
  const today=new Date().toLocaleDateString();
  const prompts={
    penny:"Search the web for today's most active and trending penny stocks (under $5). Find stocks with the highest volume, biggest percentage gains, and any trending in news today. For each stock provide: ticker symbol, company name, current price, percent change today, volume, market cap, sector, why it's moving (catalyst/news), and a score from 1-100. Return ONLY a JSON array with fields: ticker, company, price, change, volume, marketCap, sector, catalyst, score, signals (array of short tags). Find at least 10-15 stocks. Date: "+today,
    news:"Search the web for stocks trending in the news RIGHT NOW today "+today+". Look for penny stocks and small caps with breaking news, FDA approvals, contract wins, earnings surprises, insider buying, analyst upgrades, or viral social media attention. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst, score 1-100, signals array. Return ONLY a JSON array. Find at least 10-15 stocks.",
    gainers:"Search the web for today's biggest percentage gainers in penny stocks and small caps (under $10) on "+today+". Find stocks with the largest percentage gains today. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst, score 1-100, signals array. Return ONLY a JSON array. Find at least 10-15 stocks.",
    volume:"Search the web for penny stocks and small caps with unusual volume spikes today "+today+". Stocks trading at 2x-10x their average daily volume. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst, score 1-100, signals array. Return ONLY a JSON array. Find at least 10-15 stocks.",
    oversold:"Search the web for penny stocks and small caps that are currently oversold or at 52-week lows that could bounce on "+today+". For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst (why it could bounce), score 1-100, signals array. Return ONLY a JSON array. Find at least 10-15 stocks.",
    breakout:"Search the web for penny stocks and small caps showing breakout patterns today "+today+" - stocks hitting new highs, breaking resistance, bullish chart patterns. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst, score 1-100, signals array. Return ONLY a JSON array. Find at least 10-15 stocks.",
    early:"Search the web RIGHT NOW for the most RECENT breaking news about penny stocks and small cap stocks from the last few hours on "+today+". Look specifically for: FDA approvals or drug trial results announced today, government contract awards, earnings surprises released today, merger or acquisition announcements, partnership deals, SEC filings from today, analyst upgrades from today, short squeeze alerts. These should be stocks where the news JUST broke and the price may not have fully reacted yet. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst (be VERY specific about what the news is and WHEN it broke - include time if possible), score 1-100 (higher = more likely to move big), signals array, and add a field called 'newsAge' with how long ago the news broke (e.g. '2 hours ago', '30 minutes ago', 'this morning'). Return ONLY a JSON array. Find at least 8-12 stocks.",
    premarket:"Search the web for stocks making the biggest moves in pre-market and after-hours trading RIGHT NOW on "+today+". These are stocks gapping up or down before the market opens. Look for penny stocks and small caps with the largest pre-market percentage gains, unusual pre-market volume, and breaking news driving the move. For each provide: ticker, company, price, change (pre-market % change), volume (pre-market volume), marketCap, sector, catalyst (what is causing the gap), score 1-100, signals array, and add a field 'preMarketPrice' if available. Return ONLY a JSON array. Find at least 8-12 stocks.",
    insider:"Search the web for recent insider buying activity in penny stocks and small caps on or near "+today+". Find stocks where company executives, directors, or large shareholders have recently BOUGHT shares with their own money. This is a strong bullish signal. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst (who bought, how many shares, at what price), score 1-100 (higher = bigger insider purchase relative to market cap), signals array. Return ONLY a JSON array. Find at least 8-12 stocks.",
    squeeze:"Search the web for penny stocks and small caps with the highest short interest that could be short squeeze candidates on "+today+". Look for stocks with high short interest percentage (above 15%), high days-to-cover, increasing borrow rates, and recent upward price momentum that could trigger a squeeze. For each provide: ticker, company, price, change, volume, marketCap, sector, catalyst (include short interest %, days to cover if available), score 1-100, signals array. Return ONLY a JSON array. Find at least 8-12 stocks."
  };
  try{
    const response=await fetch("https://api.anthropic.com/v1/messages",{
      method:"POST",headers:{"Content-Type":"application/json"},
      body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:4000,
        messages:[{role:"user",content:prompts[scanType]||prompts.penny}],
        tools:[{type:"web_search_20250305",name:"web_search"}]})
    });
    const data=await response.json();
    let text="";
    if(data.content)for(const block of data.content)if(block.type==="text")text+=block.text;
    const jsonMatch=text.match(/\[[\s\S]*\]/);
    if(jsonMatch){const clean=jsonMatch[0].replace(/```json|```/g,"").trim();return JSON.parse(clean)}
    return[];
  }catch(e){console.error("AI scan error:",e);return[]}
}

function parseVol(v){if(typeof v==="number")return v;if(!v)return 0;v=String(v).replace(/,/g,"").toUpperCase();if(v.includes("B"))return parseFloat(v)*1e9;if(v.includes("M"))return parseFloat(v)*1e6;if(v.includes("K"))return parseFloat(v)*1e3;return parseInt(v)||0}
function fmtVol(v){const n=parseVol(v);if(n>=1e9)return(n/1e9).toFixed(1)+"B";if(n>=1e6)return(n/1e6).toFixed(1)+"M";if(n>=1e3)return(n/1e3).toFixed(0)+"K";return String(v)}

function filterByPrice(stocks){const[min,max]=S.priceRange.split("-").map(Number);return stocks.filter(s=>{const p=parseFloat(s.price)||0;if(max===999)return p>=min;return p>=min&&p<=max})}
function sortStocks(stocks){return[...stocks].sort((a,b)=>{if(S.sortBy==="score")return(b.score||0)-(a.score||0);if(S.sortBy==="change")return Math.abs(b.change||0)-Math.abs(a.change||0);if(S.sortBy==="volume")return parseVol(b.volume)-parseVol(a.volume);if(S.sortBy==="price")return(a.price||0)-(b.price||0);return(b.score||0)-(a.score||0)})}

async function scan(){
  S.ld=true;S.err=null;S.stocks=[];S.exp=null;S.progMsg="AI is searching the web for trending stocks...";render();
  try{
    const raw=await aiScan(S.tab);
    if(!raw||!raw.length){S.err="No stocks found. Try a different scan type or try again."}
    else{S.stocks=raw.map(s=>({ticker:s.ticker||"???",company:s.company||s.name||"Unknown",price:parseFloat(s.price)||0,change:parseFloat(s.change)||0,volume:s.volume||"N/A",marketCap:s.marketCap||s.market_cap||"N/A",sector:s.sector||"‚Äî",catalyst:s.catalyst||s.reason||s.news||"‚Äî",score:parseInt(s.score)||50,signals:Array.isArray(s.signals)?s.signals:[],newsAge:s.newsAge||null,preMarketPrice:s.preMarketPrice||null}));S.stocks=sortStocks(filterByPrice(S.stocks))}
    S.upd=new Date();
  }catch(e){S.err="Error: "+e.message}
  S.ld=false;render();
}

function render(){
  const app=document.getElementById("app");const stocks=S.stocks;const hotCount=stocks.filter(s=>s.score>=70).length;const avgScore=stocks.length?(stocks.reduce((s,x)=>s+x.score,0)/stocks.length).toFixed(0):"0";let h="";
  h+='<div class="hdr"><div class="hr"><div class="logo"><div class="logo-mark">SS</div><div><div class="tt">STRATFORD <span>STOCKS</span><span class="badge">SCANNER</span></div><div class="su">AI-POWERED ¬∑ PENNY STOCKS ¬∑ NEWS ¬∑ PATTERNS</div></div></div><div class="status"><div class="status-dot">'+(S.ld?'<span class="spn"></span>':'<span class="dot-w"><span class="dot"></span><span class="dot-r"></span></span>')+'<span class="status-label" style="color:'+(S.ld?'#fbbf24':'#00c8ff')+'">'+(S.ld?'SCANNING...':'READY')+'</span></div>'+(S.upd?'<div class="status-time">Scanned '+S.upd.toLocaleTimeString()+'</div>':'')+'</div></div></div>';
  h+='<div class="stats"><div class="stat"><div class="stat-label">FOUND</div><div class="stat-val" style="color:#00c8ff">'+stocks.length+'</div></div><div class="stat"><div class="stat-label">HOT PICKS</div><div class="stat-val" style="color:#ff5555">'+hotCount+'</div></div><div class="stat"><div class="stat-label">AVG SCORE</div><div class="stat-val" style="color:#00ff88">'+avgScore+'</div></div><div class="stat"><div class="stat-label">SCAN TYPE</div><div class="stat-val" style="color:#a855f7;font-size:14px">'+S.tab.toUpperCase()+'</div></div></div>';
  var tabDefs=[{id:"penny",label:"üí∞ PENNY"},{id:"early",label:"‚ö° EARLY NEWS"},{id:"premarket",label:"üåÖ PRE-MKT"},{id:"news",label:"üì∞ NEWS"},{id:"gainers",label:"üöÄ GAINERS"},{id:"volume",label:"üìä VOLUME"},{id:"insider",label:"üïµÔ∏è INSIDER"},{id:"squeeze",label:"üî• SQUEEZE"},{id:"oversold",label:"üíé OVERSOLD"},{id:"breakout",label:"üìà BREAKOUT"}];
  h+='<div class="tabs">';tabDefs.forEach(function(t){h+='<button class="tab '+(S.tab===t.id?'on':'')+'" onclick="S.tab=\''+t.id+'\';render()">'+t.label+'</button>'});h+='</div>';
  h+='<div class="sets"><div><div class="set-label">PRICE RANGE</div><select class="set-sel" style="color:#00c8ff" onchange="S.priceRange=this.value;S.stocks=sortStocks(filterByPrice(S.stocks));render()">';
  [["0-1","Under $1"],["0-5","Under $5"],["0-10","Under $10"],["0-25","Under $25"],["0-50","Under $50"],["0-999","All Prices"]].forEach(function(o){h+='<option value="'+o[0]+'"'+(S.priceRange===o[0]?' selected':'')+'>'+o[1]+'</option>'});
  h+='</select></div><div><div class="set-label">SORT BY</div><select class="set-sel" style="color:#00ff88" onchange="S.sortBy=this.value;S.stocks=sortStocks(S.stocks);render()">';
  [["score","Score"],["change","% Change"],["volume","Volume"],["price","Price"]].forEach(function(o){h+='<option value="'+o[0]+'"'+(S.sortBy===o[0]?' selected':'')+'>'+o[1]+'</option>'});
  h+='</select></div><div><div class="set-label">RESULTS</div><div style="padding:8px 10px;background:#0c0c14;border:1px solid rgba(255,255,255,.08);border-radius:6px;color:#fbbf24;font-size:12px;font-weight:600">'+stocks.length+' stocks</div></div></div>';
  var scanLabels={penny:"SCANNING PENNY STOCKS...",early:"HUNTING BREAKING NEWS...",premarket:"SCANNING PRE-MARKET...",news:"SCANNING NEWS BUZZ...",gainers:"FINDING TOP GAINERS...",volume:"DETECTING VOLUME SPIKES...",insider:"TRACKING INSIDER BUYS...",squeeze:"FINDING SQUEEZE TARGETS...",oversold:"SCANNING OVERSOLD STOCKS...",breakout:"DETECTING BREAKOUTS..."};
  h+='<button class="rbtn" onclick="scan()"'+(S.ld?' disabled':'')+'>'+(S.ld?'‚ü≥ '+(scanLabels[S.tab]||'SCANNING...'):S.upd?'‚ü≥ SCAN AGAIN':'‚ü≥ CLICK TO SCAN STOCKS')+'</button>';
  if(S.ld)h+='<div class="prog"><div class="prog-dots"><span></span><span></span><span></span></div><div class="prog-text">'+S.progMsg+'</div></div>';
  if(S.err)h+='<div class="err-box">‚ö† '+S.err+'</div>';
  if(!S.ld&&!S.upd)h+='<div class="warn-box">üëÜ Select a scan type above then press SCAN. ‚ö° EARLY NEWS finds breaking news before prices react. üåÖ PRE-MKT catches gap-ups. üïµÔ∏è INSIDER tracks exec buying. üî• SQUEEZE finds short squeeze targets.</div>';
  if(!S.ld&&S.upd&&stocks.length)h+='<div class="info-box">‚úì '+stocks.length+' stocks found ¬∑ '+hotCount+' hot picks (score 70+) ¬∑ Sorted by '+S.sortBy+'</div>';
  if(!S.ld&&S.upd&&!stocks.length)h+='<div class="empty"><div class="empty-icon">üîç</div><div class="empty-title">No stocks match filters</div><div class="empty-sub">Try widening the price range or scan a different category</div></div>';

  stocks.forEach(function(s,i){
    var isX=S.exp===i,sc=s.score>=70?"#00ff88":s.score>=40?"#fbbf24":"#60a5fa",chgColor=s.change>=0?"#00ff88":"#ff5555",bp=Math.min(s.score,100);
    h+='<div class="card'+(isX?' ex':'')+'" style="border-color:'+(isX?sc+'30':'rgba(255,255,255,.06)')+';animation-delay:'+i*.05+'s" onclick="S.exp='+(isX?'null':i)+';render()"><div class="card-main"><div class="card-top"><div style="flex:1"><div class="tk">'+s.ticker+'</div><div class="tk-name">'+s.company+'</div><div class="tk-meta">'+s.sector+'</div></div><div style="text-align:right"><div class="price">$'+(typeof s.price==="number"?s.price.toFixed(2):s.price)+'</div><div class="chg" style="color:'+chgColor+'">'+(s.change>=0?"+":"")+(typeof s.change==="number"?s.change.toFixed(2):s.change)+'%</div></div></div>';
    h+='<div class="signals">';
    if(s.signals&&s.signals.length)s.signals.forEach(function(sig){var t=sig.toLowerCase(),cls=t.includes("news")||t.includes("buzz")||t.includes("catalyst")?"sig-news":t.includes("vol")?"sig-vol":t.includes("break")||t.includes("pattern")||t.includes("bull")?"sig-pat":t.includes("hot")||t.includes("explo")||t.includes("rocket")||t.includes("surge")?"sig-hot":"sig-score";h+='<span class="sig '+cls+'">'+sig+'</span>'});
    h+='<span class="sig sig-score">SCORE: '+s.score+'/100</span></div>';
    h+='<div class="mbar"><div class="mbar-item"><div class="mbar-label">VOLUME</div><div class="mbar-val" style="color:#fbbf24">'+fmtVol(s.volume)+'</div></div><div class="mbar-item"><div class="mbar-label">MKT CAP</div><div class="mbar-val" style="color:#a855f7">'+s.marketCap+'</div></div><div class="mbar-item"><div class="mbar-label">CHANGE</div><div class="mbar-val" style="color:'+chgColor+'">'+(s.change>=0?"+":"")+(typeof s.change==="number"?s.change.toFixed(1):s.change)+'%</div></div><div class="mbar-item"><div class="mbar-label">SCORE</div><div class="mbar-val" style="color:'+sc+'">'+s.score+'/100</div></div></div>';
    h+='<div class="score-bar"><div class="score-fill" style="--bw:'+bp+'%;width:'+bp+'%;background:linear-gradient(90deg,'+sc+'55,'+sc+')"></div></div></div>';
    if(isX){
      h+='<div class="excon"><div class="reason-box"><div class="reason-title">üí° WHY IT\'S MOVING</div><div class="reason-text">'+s.catalyst+'</div>'+(s.newsAge?'<div style="margin-top:8px;font-size:11px;color:#ff5555;font-weight:700">‚è∞ NEWS BROKE: '+s.newsAge+'</div>':'')+(s.preMarketPrice?'<div style="margin-top:8px;font-size:11px;color:#fbbf24;font-weight:700">üåÖ PRE-MARKET PRICE: $'+s.preMarketPrice+'</div>':'')+'</div>';
      h+='<a href="https://finviz.com/quote.ashx?t='+s.ticker+'" target="_blank" rel="noopener" class="link-btn" onclick="event.stopPropagation()" style="background:rgba(0,200,255,.06);border:1px solid rgba(0,200,255,.15)"><div style="font-size:12px;font-weight:800;color:#00c8ff;letter-spacing:1px">üîó VIEW '+s.ticker+' ON FINVIZ</div><div style="font-size:10px;color:#555;margin-top:3px">Charts ¬∑ Fundamentals ¬∑ News</div></a>';
      h+='<a href="https://finance.yahoo.com/quote/'+s.ticker+'" target="_blank" rel="noopener" class="link-btn" onclick="event.stopPropagation()" style="background:rgba(0,255,136,.06);border:1px solid rgba(0,255,136,.15)"><div style="font-size:12px;font-weight:800;color:#00ff88;letter-spacing:1px">üìä VIEW '+s.ticker+' ON YAHOO FINANCE</div></a>';
      h+='<a href="https://www.tradingview.com/chart/?symbol='+s.ticker+'" target="_blank" rel="noopener" class="link-btn" onclick="event.stopPropagation()" style="background:rgba(168,85,247,.06);border:1px solid rgba(168,85,247,.15)"><div style="font-size:12px;font-weight:800;color:#a855f7;letter-spacing:1px">üìà VIEW '+s.ticker+' ON TRADINGVIEW</div></a>';
      h+='<a href="https://www.google.com/search?q='+s.ticker+'+stock+news&tbm=nws" target="_blank" rel="noopener" class="link-btn" onclick="event.stopPropagation()" style="background:rgba(251,191,36,.06);border:1px solid rgba(251,191,36,.15)"><div style="font-size:12px;font-weight:800;color:#fbbf24;letter-spacing:1px">üì∞ SEARCH '+s.ticker+' NEWS</div></a>';
      h+='<div style="margin-top:12px;font-size:9px;color:#333;text-align:center;letter-spacing:1px">‚ö† NOT FINANCIAL ADVICE ¬∑ DO YOUR OWN RESEARCH ¬∑ PENNY STOCKS ARE HIGH RISK</div></div>';
    }
    h+='</div>';
  });
  h+='<div class="footer"><div class="footer-text">STRATFORD STOCKS ¬∑ AI-POWERED PENNY STOCK SCANNER</div><div class="footer-text" style="margin-top:4px;color:#1a1a1a">NOT FINANCIAL ADVICE</div></div>';
  app.innerHTML=h;
}
render();
</script>
</body>
</html>
